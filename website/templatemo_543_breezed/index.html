<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="https://fonts.googleapis.com/css?family=Raleway:100,200,300,400,500,600,700,800,900&display=swap" rel="stylesheet">

    <title>Mental Health Tracker</title>

<!--

Breezed Template

https://templatemo.com/tm-543-breezed

-->
    <!-- Additional CSS Files -->
    <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">

    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.css">

    <link rel="stylesheet" href="assets/css/templatemo-breezed.css">

    <link rel="stylesheet" href="assets/css/owl-carousel.css">

    <link rel="stylesheet" href="assets/css/lightbox.css">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
    src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.0.0-rc.1/chartjs-plugin-datalabels.min.js"
    integrity="sha512-+UYTD5L/bU1sgAfWA0ELK5RlQ811q8wZIocqI7+K0Lhh8yVdIoAMEs96wJAIbgFvzynPm36ZCXtkydxu1cs27w=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  ></script>

    </head>

    <body>

    <!-- ***** Preloader Start ***** -->
    <div id="preloader">
        <div class="jumper">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>
    <!-- ***** Preloader End ***** -->


    <!-- ***** Header Area Start ***** -->
    <header class="header-area header-sticky">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="main-nav">
                        <!-- ***** Logo Start ***** -->
                        <a href="https://mftechno.com" class="logo">
                            <img src="assets/images/cropped-MF-New-Logo-1.png" alt="">
                        </a>
                        <!-- ***** Logo End ***** -->
                        <!-- ***** Menu Start ***** -->
                        <ul class="nav">
                            <li class="scroll-to-section"><a href="#top" class="active">Home</a></li>
                            <li class="scroll-to-section"><a href="#live-analysis">Live Analysis</a></li>
                            <li class="scroll-to-section"><a href="#activity">Activity Tracking</a></li>
                            <li class="scroll-to-section"><a href="#projects">Dashboard</a></li>
                            <li class="scroll-to-section"><a href="#testimonials">How it Works</a></li>
                            <li class="scroll-to-section"><a href="#about">About Us</a></li>
                            <li class="scroll-to-section"><a href="#contact-us">Contact Us</a></li>
                        </ul>
                        <a class='menu-trigger'>
                            <span>Menu</span>
                        </a>
                        <!-- ***** Menu End ***** -->
                    </nav>
                </div>
            </div>
        </div>
    </header>
    <!-- ***** Header Area End ***** -->

    <!-- ***** Main Banner Area Start ***** -->
    <div class="main-banner header-text" id="top">
        <div class="Modern-Slider">
          <!-- Item -->
          <div class="item">
            <div class="img-fill">
                <img src="assets/images/slide-01.png" alt="">
                <div class="text-content">
                  <h3>Welcome To MF TECH</h3>
                  <h5>Smart Health Tracker</h5>
                  <a href="#testimonials" class="main-stroked-button">Learn More</a>
                  <a href="#contact-us" class="main-filled-button">Get It Now</a>
                </div>
            </div>
          </div>
          <!-- // Item -->
        </div>
    </div>
    <div class="scroll-down scroll-to-section"><a href="#features"><i class="fa fa-arrow-down"></i></a></div>
    <!-- ***** Main Banner Area End ***** -->

    <!-- ***** Features Big Item Start ***** -->
    <section class="section" id="features">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12" data-scroll-reveal="enter left move 30px over 0.6s after 0.4s">
                    <div class="features-item">
                        <div class="features-icon">
                            <img src="assets/images/features-icon-1.png" alt="">
                        </div>
                        <div class="features-content">
                            <h4>Convenient</h4>
                            <p>Data needed for analysis can be conveniently collected by bio-sensors on wearable devices or even on smartphones, and a simple questionaire provided here.</p>
                            <a href="#testimonials" class="text-button-icon">
                                Learn More <i class="fa fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12" data-scroll-reveal="enter bottom move 30px over 0.6s after 0.4s">
                    <div class="features-item">
                        <div class="features-icon">
                            <img src="assets/images/features-icon-1.png" alt="">
                        </div>
                        <div class="features-content">
                            <h4>Reliable</h4>
                            <p>With more data collected by many global users on the cloud, our algorithm will continue to upgrade with greater datasets, improving the accuracy and reliability of prognosis for our users.</p>
                            <a href="#testimonials" class="text-button-icon">
                                Learn More <i class="fa fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12 col-xs-12" data-scroll-reveal="enter right move 30px over 0.6s after 0.4s">
                    <div class="features-item">
                        <div class="features-icon">
                            <img src="assets/images/features-icon-1.png" alt="">
                        </div>
                        <div class="features-content">
                            <h4>Innovative</h4>
                            <p>Our machine learning algorithm smartly predicts one's wellness status solely based on one's physiological data collected.</p>
                            <a href="#testimonials" class="text-button-icon">
                                Learn More <i class="fa fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Features Big Item End ***** -->

    <!-- ***** Live Analysis Item Starts ***** -->
    <section class="section" id="live-analysis">
      <div class="container">
        <div class="row">
          <div class="col-lg-3">
            <div class="section-heading">
              <h6>Live Analysis</h6>
            </div>
          </div>
          <div class="col-lg-9">
              <div class="filters-content">
                <div id="graphs" class="py-2">
                  <h4>Stress Reading</h4>
                  <canvas id="myChart2"></canvas>
                  <script>
                    // setup
                    const data = {
                      labels: ['Mon', 'Tue', 'Wed'],
                      datasets: [{
                        label: 'Weekly Sales',
                        data: [58, 58, 58],
                        backgroundColor: [
                          'rgb(45,201,55)',
                          'rgb(231,180,22)',
                          'rgb(204,50,50)',
                        ],
                        needleValue: 69,
                        borderColor: 'rgb(200, 247, 240)',
                        borderWidth: 1,
                        cutout: '95%',
                        circumference: 180,
                        rotation: 270,
                        borderRadius: 5,
                      }]
                    };

                    const gaugeNeedle = {
                      id: 'gaugeNeedle',
                      afterDatasetDraw(chart,args,option) {
                        const {ctx, config, chartArea: {top,bottom,left,right,width,height}} = chart;

                        ctx.save();
                        //const needleValue = data.datasets[0].needleValue;
                        const needleValue = data.datasets[0].needleValue;
                        const dataTotal = 174;
                        const angle = Math.PI + (1 / dataTotal * needleValue * Math.PI);
                        const cx = width/2;
                        const cy = chart._metasets[0].data[0].y;

                        ctx.translate(cx,cy);
                        ctx.rotate(angle);
                        ctx.beginPath();
                        ctx.moveTo(0,-2);
                        ctx.lineTo(height - (ctx.canvas.offsetTop+350),0);
                        ctx.lineTo(0,2);
                        ctx.fillStyle = '#444';
                        ctx.fill();

                        ctx.translate(-cx,-cy);
                        ctx.beginPath();
                        ctx.arc(cx,cy,5,0,10);
                        ctx.fill();
                        ctx.restore();

                        ctx.font = '30px Helvetica';
                        ctx.fillStyle = '#444';
                        if (needleValue < 59) {
                          ctx.fillText(Math.round((needleValue/dataTotal)*100)+'%: Stress Levels are Low',cx,cy+30);
                        } else if (needleValue > 58 && needleValue < 117) {
                          ctx.fillText(Math.round((needleValue/dataTotal)*100)+'%: Stress Levels are High',cx,cy+30);
                        } else {
                          ctx.fillText(Math.round((needleValue/dataTotal)*100)+'%: Stress Levels are Severe',cx,cy+30);
                        }

                        ctx.textAlign = 'center';
                        ctx.restore();

                      }
                    }

                    // config
                    const config = {
                      type: 'doughnut',
                      data,
                      options: {
                        plugins: {
                          legend: {
                            display: false
                          },
                          tooltip: {
                            yAlign: 'bottom',
                            displayColors: false,
                            callbacks: {
                              label: function(tooltipItem,data,value) {
                                const tracker = Math.round((tooltipItem.dataset.needleValue/174)*100);
                                return `Stress: ${tracker}%`;
                              }
                            }
                          }
                        }
                      },
                      plugins: [gaugeNeedle],
                    };

                    // render init block
                    const myChart = new Chart(
                      document.getElementById('myChart2'),
                      config
                    );
                    </script>
                  <table align='center'>
                    <thead>
                      <tr>
                        <th>Current Activity</th>
                        <th>Heart Rate (bpm)</th>
                        <th>SDSD HRV (ms)</th>
                        <th>Excercise Today (mins)</th>
                        <th>Unhealthy Habits Today (mins)</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>6 - Heavy Excercise</td>
                        <td>82</td>
                        <td>39</td>
                        <td>180</td>
                        <td>10</td>
                      </tr>
                    </tbody>
                  </table>
                  <p align='center'><br><br>Your HRV is very low which contributes to your stress.</p>
                  <p align='center'>You should cut down on your unhealthy habits such as by smoking less and drinking less alcohol and caffiene.</p>
                  <p align='center'>You should create a regular sleep pattern to inprove sleep quality and so reduce stress levels.</p>
                  <p align='center'>You should excercise appropriately, increasing light and medium excercise by walking or cycling more.</p>
                </div>
              </div>
          </div>
        </div>
      </div>
    </section>
    <!-- ***** Live Analysis Item End ***** -->

    <!-- ***** Activity Tracking Starts ***** -->
    <section class="section" id="activity">
      <div class="container">
        <div class="row">
          <div class="col-lg-3">
            <div class="section-heading">
              <h6>Activity Tracking</h6>
            </div>
          </div>
          <div class="col-lg-9">
            <h4 align='center'>Predicted Activity: Heavy Movement e.g. gym, running</h4>
            <br>
            <br>
            <table align='center'>
              <thead>
                <tr>
                  <th>Axis 1 (Nm)</th>
                  <th>Axis 2 (Nm)</th>
                  <th>Axis 3 (Nm)</th>
                  <th>Vector Magnitude (Nm)</th>
                  <th>Heart Rate (bpm)</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>12</td>
                  <td>2</td>
                  <td>83</td>
                  <td>83.89</td>
                  <td>10</td>
                </tr>
              </tbody>
            </table>
            <br>
            <br>
            <h4 align='center'>Activity History</h4>
            <p align='center'>Heavy Movement 13:00 - now</p>
            <p align='center'>Laying Down 10:30 - 13:00</p>
            <p align='center'>Sleeping 10:00 - 10:30</p>
          </div>
        </div>
      </div>
    </section>
    <!-- ***** Activity Tracking End ***** -->

    <!-- ***** Projects Area Starts ***** -->
    <section class="section" id="projects">
      <div class="container">
        <div class="row">
            <div class="col-lg-3">
                <div class="section-heading">
                    <h6>Dashboard</h6>
                </div>
                <div class="filters">
                  <div class="dropdown">
                    <button class="dropbtn">Select Subject</button>
                    <div class="dropdown-content">
                      <a id="subject-overall" href="#">Overview</a>
                      <a id="subject-1" href="#">Subject 1</a>
                      <a id="subject-2" href="#">Subject 2</a>
                      <a id="subject-3" href="#">Subject 3</a>
                      <a id="subject-4" href="#">Subject 4</a>
                      <a id="subject-5" href="#">Subject 5</a>
                      <a id="subject-6" href="#">Subject 6</a>
                      <a id="subject-7" href="#">Subject 7</a>
                      <a id="subject-8" href="#">Subject 8</a>
                      <a id="subject-9" href="#">Subject 9</a>
                      <a id="subject-10" href="#">Subject 10</a>
                      <a id="subject-11" href="#">Subject 11</a>
                      <a id="subject-12" href="#">Subject 12</a>
                      <a id="subject-13" href="#">Subject 13</a>
                      <a id="subject-14" href="#">Subject 14</a>
                      <a id="subject-15" href="#">Subject 15</a>
                      <a id="subject-16" href="#">Subject 16</a>
                      <a id="subject-17" href="#">Subject 17</a>
                      <a id="subject-18" href="#">Subject 18</a>
                      <a id="subject-19" href="#">Subject 19</a>
                      <a id="subject-20" href="#">Subject 20</a>
                      <a id="subject-21" href="#">Subject 21</a>
                      <a id="subject-22" href="#">Subject 22</a>
                    </div>
                  </div>
                </div>
            </div>
            <div class="col-lg-9">
                <div class="filters-content">
                  <div id="graphs" class="py-2">
                    <h4 id="subject-title">Overview</h4>
                    <table id="table"></table>
                    <canvas id="myChart"></canvas>
                    <h5>Analysis</h5>
                    <p id='analysis-p'></p>
                  </div>
                </div>
            </div>
        </div>
      </div>
    </section>
    <!-- ***** Projects Area Ends ***** -->

    <!-- ***** Testimonials Starts ***** -->
    <section class="section" id="testimonials">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-heading">
                        <h6>How our Mental Health Tracker Works</h6>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 col-sm-12 mobile-bottom-fix-big" data-scroll-reveal="enter left move 30px over 0.6s after 0.4s">
                    <div class="owl-carousel owl-theme">
                        <div class="item author-item">
                            <div class="member-thumb">
                                <img src="assets/images/member-item-01.jpg" alt="">
                                <div class="hover-effect">
                                    <div class="hover-content">
                                        <ul>
                                            <li><h6>Physiological data is collected from wearable devices, and other data such as activity and sleep logs are recorded and collected by our web application.</h6></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <h4>.01 Data Collection</h4>
                        </div>
                        <div class="item author-item">
                            <div class="member-thumb">
                                <img src="assets/images/member-item-02.jpg" alt="">
                                <div class="hover-effect">
                                    <div class="hover-content">
                                        <ul>
                                            <li><h6>The data collected will then be used as an input to the machine learning algorithm, which exploits correlations between the input data and wellness markers such as stress levels.</h6></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <h4>.02 Learning</h4>
                        </div>
                        <div class="item author-item">
                            <div class="member-thumb">
                                <img src="assets/images/member-item-03.jpg" alt="">
                                <div class="hover-effect">
                                    <div class="hover-content">
                                        <ul>
                                          <li><h6>Our machine learning model will produce a prediction of our user's wellness or mental health state.</h6></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <h4>.03 Prognosis</h4>
                        </div>
                        <div class="item author-item">
                            <div class="member-thumb">
                                <img src="assets/images/member-item-04.jpg" alt="">
                                <div class="hover-effect">
                                    <div class="hover-content">
                                        <ul>
                                          <li><h6>Based on the prognosis, our algorithm will produce feedback about potential interventions and lifestyle changes to enhance one's wellness.</h6></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <h4>.04 Feedback</h4>
                        </div>
                        <div class="item author-item">
                            <div class="member-thumb">
                                <img src="assets/images/member-item-05.jpg" alt="">
                                <div class="hover-effect">
                                    <div class="hover-content">
                                        <ul>
                                          <li><h6>This process is made easily accessible to the users here on cloud (AWS).</h6></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <h4>.05 Web Access</h4>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Testimonials Ends ***** -->

    <!-- ***** About Area Starts ***** -->
    <section class="section" id="about">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="left-text-content">
                        <div class="section-heading">
                            <h6>About Us</h6>
                            <h2>Digitalising the Healthcare Industry</h2>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6 col-md-6 col-xs-12">
                    <div class="right-text-content">
                        <p><a rel="nofollow noopener" href="https://mftechno.com/" target="_parent">MF Technology</a> specializes in consultancy services associated with the development of digital healthcare systems/platforms, smart Digital Signal Processing, wearable sensors and devices for healthcare and wellness.
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** About Area Ends ***** -->

    <!-- ***** Contact Us Area Starts ***** -->
    <section class="section" id="contact-us">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 col-md-4 col-xs-12">
                    <div class="left-text-content">
                        <div class="section-heading">
                            <h6>Contact Us</h6>
                            <h2>Feel free to keep in touch with us!</h2>
                        </div>
                        <ul class="contact-info">
                            <li><img src="assets/images/contact-info-01.png" alt="">123456789</li>
                            <li><a rel="nofollow" href="info@mftec.org"><img src="assets/images/contact-info-02.png" alt="">info@mftec.org</a></li>
                            <li><a rel="nofollow" href="https://mftechno.com/"><img src="assets/images/contact-info-03.png" alt="">https://mftechno.com/</a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-8 col-md-8 col-xs-12">
                    <div class="contact-form">
                        <form id="contact" action="" method="get">
                          <div class="row">
                            <div class="col-md-6 col-sm-12">
                              <fieldset>
                                <input name="name" type="text" id="name" placeholder="Your Name *" required="">
                              </fieldset>
                            </div>
                            <div class="col-md-6 col-sm-12">
                              <fieldset>
                                <input name="phone" type="text" id="phone" placeholder="Your Phone" required="">
                              </fieldset>
                            </div>
                            <div class="col-md-6 col-sm-12">
                              <fieldset>
                                <input name="email" type="email" id="email" placeholder="Your Email *" required="">
                              </fieldset>
                            </div>
                            <div class="col-md-6 col-sm-12">
                              <fieldset>
                                <input name="subject" type="text" id="subject" placeholder="Subject">
                              </fieldset>
                            </div>
                            <div class="col-lg-12">
                              <fieldset>
                                <textarea name="message" rows="6" id="message" placeholder="Message" required=""></textarea>
                              </fieldset>
                            </div>
                            <div class="col-lg-12">
                              <fieldset>
                                <button type="submit" id="form-submit" class="main-button-icon">Send Message Now <i class="fa fa-arrow-right"></i></button>
                              </fieldset>
                            </div>
                          </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- ***** Contact Us Area Ends ***** -->

    <!-- ***** Footer Start ***** -->
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-lg-6 col-xs-12">
                    <div class="left-text-content">
                        <p>Copyright &copy; MF Tech</p>
                    </div>
                </div>
                <div class="col-lg-6 col-xs-12">
                    <div class="right-text-content">
                            <ul class="social-icons">
                                <li><p>Follow Us</p></li>
                                <li><a rel="nofollow" href="https://www.linkedin.com/company/mftec/"><i class="fa fa-linkedin"></i></a></li>
                                <li><a rel="nofollow" href="https://mftechno.com/"><i class="fa fa-dribbble"></i></a></li>
                            </ul>
                    </div>
                </div>
            </div>
        </div>
    </footer>


    <!-- jQuery -->
    <script src="assets/js/jquery-2.1.0.min.js"></script>

    <!-- Bootstrap -->
    <script src="assets/js/popper.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>

    <!-- Plugins -->
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/scrollreveal.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/imgfix.min.js"></script>
    <script src="assets/js/slick.js"></script>
    <script src="assets/js/lightbox.js"></script>
    <script src="assets/js/isotope.js"></script>

    <!-- Global Init -->
    <script src="assets/js/custom.js"></script>

    <script>

        $(function() {
            var selectedClass = "";
            $("p").click(function(){
            selectedClass = $(this).attr("data-rel");
            $("#portfolio").fadeTo(50, 0.1);
                $("#portfolio div").not("."+selectedClass).fadeOut();
            setTimeout(function() {
              $("."+selectedClass).fadeIn();
              $("#portfolio").fadeTo(50, 1);
            }, 500);

            });
        });

        window.myChart == [];

    </script>

    <script>
      const map1 = [];

      map1[0] = [22.75830678,	43,	5,	23,	150,	0, 150];
      map1[1] = [28.36752366,	39,	7,	26,	69,	20, 587];
      map1[2] = [23.1206236,	27,	8,	11,	130,	0, 134];
      map1[3] = [23.45679012,	40,	4,	10,	110,	10, 533];
      map1[4] = [20.82465639,	47,	8,	41,	120,	0, 294];
      map1[5] = [19.56823633,	47,	9,	41,	110,	0, 204];
      map1[6] = [19.4093583,	0,	7,	69,	180,	10, 43];
      map1[7] = [21.85727788,	39,	3,	74,	155,	10, 241];
      map1[8] = [22.85714286,	41,	9,	38,	180,	20, 114];
      map1[9] = [26.2345679,	46,	4,	14,	130,	23, 331];
      map1[10] = [33.24083709,	43,	7,	17,	77,	41, 121];
      map1[11] = [23.183391,	33,	4,	48,	135,	15, 57];
      map1[12] = [22.83950617,	43,	4,	27,	150,	0, 100];
      map1[13] = [21.88707637,	45,	2,	26,	58,	5, 32];
      map1[14] = [24.69135802,	42,	5,	35,	190,	20, 285];
      map1[15] = [21.62964876,	41,	5,	32,	95,	20, 138];
      map1[16] = [19.59183673,	49,	3,	20,	175,	13, 434];
      map1[17] = [24.69135802,	44,	5,	32,	40,	105, 165];
      map1[18] = [20.90238586,	35,	4,	31,	95,	10, 96];
      map1[19] = [22.85714286,	42,	5,	22,	97,	55, 194];
      map1[20] = [22.85714286,	35,	4,	30,	80,	0, 65];
      map1[21] = [21.89173111,	48,	5,	41,	80,	10, 100];
      map1[22] = [23.12354085,	39.5,	5,	32,	118,	17, 201];


      const headers = ["BMI","Anxiety","Sleep Quality","Stress","Excercise (mins)","Unhealthy Habits (mins)", "HRV (ms)"];


      function createGraph(tableData,subject) {
        if (subject == 22) {
          const labels = [
            'Anxiety',
            'Sleep Quality',
            'Stress'
          ];

          const array1 = [0,0,0];
          const array2 = [0,0,0];
          const array3 = [0,0,0];

          if (subject == 22) {
            for (let i = 0; i < map1.length-1; i++) {
              if (map1[i][1] < 31) {
                array1[0] += 1;
              } else if (map1[i][1] > 31 && map1[i][1] < 50) {
                array2[0] += 1;
              } else {
                array3[0] += 1;
              }

              if (map1[i][2] < 7) {
                array1[1] += 1;
              } else if (map1[i][2] > 6 && map1[i][2] < 13) {
                array2[1] += 1;
              } else {
                array3[1] += 1;
              }

              if (map1[i][3] < 59) {
                array1[2] += 1;
              } else if (map1[i][3] > 58 && map1[i][3] < 117) {
                array2[2] += 1;
              } else {
                array3[2] += 1;
              }
            }
          }

          const data = {
            labels: labels,
            datasets: [{
              label: 'Anxiety',
              data: array1,
              backgroundColor: [
                'rgba(83,222,206,255)',
              ],
            },
            {
              label: 'Sleep Quality',
              data: array2,
              backgroundColor: [
                'rgb(95, 183, 89)',
              ],
            },
            {
              label: 'Stress',
              data: array3,
              backgroundColor: [
                'rgb(255, 99, 132)',
              ],
            }]
          };

          const config = {
            type: 'bar',
            data: data,
            options: {
              plugins: {
                title: {
                  display: true,
                  text: 'Overview'
                },
                legend: {
                  display: false
                },
                tooltip: {
                  enabled: false
                },
              },
              responsive: true,
              scales: {
                x: {
                  stacked: true,
                  title: {
                    display: true,
                    text: 'Mental Health Indicator'
                  },
                },
                y: {
                  stacked: true,
                  title: {
                    display: true,
                    text: 'No. of People'
                  },
                },
              }
            }
          };

          if (window.myChart[0] == null) {
            window.myChart[0] = new Chart(
              document.getElementById('myChart'),
              config
            );
          } else {
            window.myChart[0].destroy();
            window.myChart[0] = new Chart(
              document.getElementById('myChart'),
              config
            );
          }

        } else {
          const data = {
            labels: [
              'BMI',
              'Anxiety',
              'Sleep Quality',
              'Stress',
              'Excercise (mins)',
              'Unhealthy Habits (mins)',
              'HRV'
            ],
            datasets: [{
              label: 'Subject '+(subject+1),
              data: map1[subject],
              fill: true,
              backgroundColor: 'rgba(83,222,206,0.2)',
              borderColor: 'rgba(83,222,206,255)',
            }, {
              label: 'Overview',
              data: map1[22],
              fill: true,
              backgroundColor: 'rgba(95, 183, 89, 0.2)',
              borderColor: 'rgb(95, 183, 89,255)',
            }]
          };

          const config = {
            type: 'radar',
            data: data,
            options: {
              elements: {
                line: {
                  borderWidth: 3
                }
              },
              plugins: {
                title: {
                  display: true,
                  text: 'Subject '+(subject+1)
                },
              }
            },
          };


          window.myChart[0].destroy()
          window.myChart[0] = new Chart(
            document.getElementById('myChart'),
            config
          );
        }

      }



      function createTable(tableData,subject) {
        const title = document.getElementById('subject-title');
        if (subject == 22) {
          title.innerHTML = "Overview";
        } else {
          title.innerHTML = "Subject "+(subject+1);
        }

        const table = document.getElementById('table');
        table.innerHTML = "";
        let hrow = table.insertRow();
        for (let hcell in headers) {
          let newhcell = hrow.insertCell();
          newhcell.style.color = '#5fb759';
          newhcell.textContent = headers[hcell];
        }

        let row = table.insertRow();
        for (let cell in map1[subject]) {
          let newcell = row.insertCell();
          if (cell == 0) {
            if (map1[subject][cell] <= 18.5) {
              newcell.textContent = "Underweight";
            } else if (map1[subject][cell] > 18.5 && map1[subject][cell] <= 25) {
              newcell.textContent = "Normal";
            } else if (map1[subject][cell] > 25 && map1[subject][cell] <= 30) {
              newcell.textContent = "Overweight";
            } else {
              newcell.textContent = "Obese";
            }
          } else if (cell == 1) {
            if (map1[subject][cell] < 31) {
              newcell.textContent = "Low";
            } else if (map1[subject][cell] > 31 && map1[subject][cell] < 50) {
              newcell.textContent = "Borderline";
            } else {
              newcell.textContent = "High";
            }
          } else if (cell == 2) {
            if (map1[subject][cell] < 7) {
              newcell.textContent = "Good";
            } else if (map1[subject][cell] > 6 && map1[subject][cell] < 13) {
              newcell.textContent = "Poor";
            } else {
              newcell.textContent - "Severe";
            }
          } else if (cell == 3) {
            if (map1[subject][cell] < 59) {
              newcell.textContent = "Low";
            } else if (map1[subject][cell] > 58 && map1[subject][cell] < 117) {
              newcell.textContent = "High";
            } else {
              newcell.textContent = "Severe";
            }
          } else {
            newcell.textContent = map1[subject][cell];
          }
        }
      }

      function createAnalysis(tableData,subject){
        const analysis = document.getElementById('analysis-p');
        const factors_to_consider = [];
        analysis.innerHTML = "";
        if (subject == 22) {
          if (map1[subject][1] > 31 && map1[subject][1] < 50) {
            analysis.innerHTML = "Overall there is borderline anxiety."
            factors_to_consider.push('anxiety');
          } else {
            analysis.innerHTML = "Overall there is a high level of anxiety."
            factors_to_consider.push('anxiety');
          }
          if (map1[subject][2] > 6 && map1[subject][2] < 13) {
            analysis.innerHTML += "<br>Overall sleep quality is poor.";
            factors_to_consider.push('sleep quality');
          } else if (map1[subject[2] > 12]) {
            analysis.innerHTML +=  "<br>Overall sleep quality is severe and could be detrimental to health.";
            factors_to_consider.push('sleep quality');
          }
          if (map1[subject][3] > 58 && map1[subject][3] < 117) {
            analysis.innerHTML += "<br>Overall stress is high.";
            factors_to_consider.push('stress');
          } else if (map1[subject][3] > 116){
            analysis.innerHTML += "<br>Overall stress is severe.";
            factors_to_consider.push('stress');
          }
          if (factors_to_consider.length == 0) {
            analysis.innerHTML += "<br>Overall the mental health is good so maintain what you are doing."
          } else {
            if (map1[subject][0] > 25) {
              analysis.innerHTML += "<br>Overall everyone is overweight or obese which contributes to poor ";
              for (let i in factors_to_consider) {
                if (factors_to_consider[i] == 'anxiety' || factors_to_consider[i] == 'stress') {
                  analysis.innerHTML += 'high '+factors_to_consider[i];
                } else {
                  analysis.innerHTML += 'poor '+factors_to_consider[i];
                }
                if (i == factors_to_consider.length-1) {
                  analysis.innerHTML += ".";
                } else {
                  analysis.innerHTML += ", ";
                }
              }
              analysis.innerHTML += "<br>Excercising more, reducing alcohol and caffiene consumption and eating healthier food can help to improve this."
            }
            if (map1[subject][4] < 60) {
              analysis.innerHTML += "<br>Overall everyone excercises too little and this can contribute to poor ";
              for (let i in factors_to_consider) {
                if (factors_to_consider[i] == 'anxiety' || factors_to_consider[i] == 'stress') {
                  analysis.innerHTML += 'high '+factors_to_consider[i];
                } else {
                  analysis.innerHTML += 'poor '+factors_to_consider[i];
                }
                if (i == factors_to_consider.length-1) {
                  analysis.innerHTML += ".";
                } else {
                  analysis.innerHTML += ", ";
                }
              }
              analysis.innerHTML += "<br>Light excercise should be increased throughout the day."
            }
            if (map1[subject][5] > 10) {
              analysis.innerHTML += "<br>Overall everyone indulges in too many unhealthy habits which can contribute to ";
              for (let i in factors_to_consider) {
                if (factors_to_consider[i] == 'anxiety' || factors_to_consider[i] == 'stress') {
                  analysis.innerHTML += 'high '+factors_to_consider[i];
                } else {
                  analysis.innerHTML += 'poor '+factors_to_consider[i];
                }
                if (i == factors_to_consider.length-1) {
                  analysis.innerHTML += ".";
                } else {
                  analysis.innerHTML += ", ";
                }
              }
              analysis.innerHTML += "<br>Smoking, alocohol and caffiene consumption should be reduced to improve this."
            }
            if (map1[subject][6] < 100) {
              analysis.innerHTML += "<br>Overall HRV is low and can be considered unhealthy and contributes to ";
              for (let i in factors_to_consider) {
                if (factors_to_consider[i] == 'anxiety' || factors_to_consider[i] == 'stress') {
                  analysis.innerHTML += 'high '+factors_to_consider[i];
                } else {
                  analysis.innerHTML += 'poor '+factors_to_consider[i];
                }
                if (i == factors_to_consider.length-1) {
                  analysis.innerHTML += ".";
                } else {
                  analysis.innerHTML += ", ";
                }
              }
              analysis.innerHTML += "<br>Excercising appropriately, reduce alcohol consumption and smoking, sleep at more consistent times."
            }
          }
        } else {
          if (map1[subject][1] < 32) {
            analysis.innerHTML = "Subject "+(subject+1)+" has low anxiety "
          } else if (map1[subject][1] > 31 && map1[subject][1] < 50) {
            analysis.innerHTML = "Subject "+(subject+1)+" has borderline anxiety "
            factors_to_consider.push('anxiety');
          } else {
            analysis.innerHTML = "Subject "+(subject+1)+" has high levels of anxiety "
            factors_to_consider.push('anxiety');
          }
          if (map1[subject][1] > map1[22][1]) {
            analysis.innerHTML += "and is worse than the average person."
          } else if (map1[subject][1] < map1[22][1]){
            analysis.innerHTML += "and is better than the average person."
          }

          if (map1[subject][2] < 7) {
            analysis.innerHTML += "<br>Subject "+(subject+1)+" has good sleep quality "
          } else if (map1[subject][2] > 6 && map1[subject][2] < 13) {
            analysis.innerHTML += "<br>Subject "+(subject+1)+" has poor sleep quality ";
            factors_to_consider.push('sleep quality');
          } else if (map1[subject[2] > 12]) {
            analysis.innerHTML +=  "<br>Subject "+(subject+1)+" has severe sleep quality ";
            factors_to_consider.push('sleep quality');
          }
          if (map1[subject][2] > map1[22][2]) {
            analysis.innerHTML += "and is worse than the average person."
          } else if (map1[subject][2] < map1[22][2]){
            analysis.innerHTML += "and is better than the average person."
          }

          if (map1[subject][3] < 59) {
            analysis.innerHTML += "<br>Subject "+(subject+1)+" has low stress levels ";
          } else if (map1[subject][3] > 58 && map1[subject][3] < 117) {
            analysis.innerHTML += "<br>Subject "+(subject+1)+" has high stress levels ";
            factors_to_consider.push('stress');
          } else if (map1[subject][3] > 116){
            analysis.innerHTML += "<br>Subject "+(subject+1)+" has severe stress levels ";
            factors_to_consider.push('stress');
          }
          if (map1[subject][3] > map1[22][3]) {
            analysis.innerHTML += "and is worse than the average person."
          } else if (map1[subject][3] < map1[22][3]){
            analysis.innerHTML += "and is better than the average person."
          }

          if (factors_to_consider.length == 0) {
            analysis.innerHTML += "<br>Subject "+(subject+1)+" has good mental health."
          } else {
            if (map1[subject][0] > 25) {
              analysis.innerHTML += "<br>Subject "+(subject+1)+" is overweight or obese which contributes to ";
              for (let i in factors_to_consider) {
                if (factors_to_consider[i] == 'anxiety' || factors_to_consider[i] == 'stress') {
                  analysis.innerHTML += 'high '+factors_to_consider[i];
                } else {
                  analysis.innerHTML += 'poor '+factors_to_consider[i];
                }
                if (i == factors_to_consider.length-1) {
                  analysis.innerHTML += ".";
                } else {
                  analysis.innerHTML += ", ";
                }
              }
              analysis.innerHTML += "<br>Excercising more, reducing alcohol and caffiene consumption and eating healthier food can help to improve this."
            }
            if (map1[subject][4] < 100) {
              analysis.innerHTML += "<br>Subject "+(subject+1)+" excercises too little and this can contribute to ";
              for (let i in factors_to_consider) {
                if (factors_to_consider[i] == 'anxiety' || factors_to_consider[i] == 'stress') {
                  analysis.innerHTML += 'high '+factors_to_consider[i];
                } else {
                  analysis.innerHTML += 'poor '+factors_to_consider[i];
                }
                if (i == factors_to_consider.length-1) {
                  analysis.innerHTML += ".";
                } else {
                  analysis.innerHTML += ", ";
                }
              }
              analysis.innerHTML += "<br>Light excercise should be increased throughout the day."
            }
            if (map1[subject][5] > 10) {
              analysis.innerHTML += "<br>Subject "+(subject+1)+" indulges in too many unhealthy habits which can contribute to ";
              for (let i in factors_to_consider) {
                if (factors_to_consider[i] == 'anxiety' || factors_to_consider[i] == 'stress') {
                  analysis.innerHTML += 'high '+factors_to_consider[i];
                } else {
                  analysis.innerHTML += 'poor '+factors_to_consider[i];
                }
                if (i == factors_to_consider.length-1) {
                  analysis.innerHTML += ".";
                } else {
                  analysis.innerHTML += ", ";
                }
              }
              analysis.innerHTML += "<br>Smoking, alocohol and caffiene consumption should be reduced to improve this."
            }
            if (map1[subject][6] < 100) {
              analysis.innerHTML += "<br>Subject "+(subject+1)+"'s HRV is low and can be considered unhealthy and contributes to ";
              for (let i in factors_to_consider) {
                if (factors_to_consider[i] == 'anxiety' || factors_to_consider[i] == 'stress') {
                  analysis.innerHTML += 'high '+factors_to_consider[i];
                } else {
                  analysis.innerHTML += 'poor '+factors_to_consider[i];
                }
                if (i == factors_to_consider.length-1) {
                  analysis.innerHTML += ".";
                } else {
                  analysis.innerHTML += ", ";
                }
              }
              analysis.innerHTML += "<br>Excercising appropriately, reduce alcohol consumption and smoking, sleep at more consistent times."
            }
          }
        }
      }

      var subjectoverall = document.getElementById("subject-overall");
      subjectoverall.onclick = function() {
        createTable(map1,22);
        createGraph(map1,22);
        createAnalysis(map1,22);
        return false;
      }
      var subject0 = document.getElementById("subject-1");
      subject0.onclick = function() {
        createTable(map1,0);
        createGraph(map1,0);
        createAnalysis(map1,0);
        return false;
      }
      var subject1 = document.getElementById("subject-2");
      subject1.onclick = function() {
        createTable(map1,1);
        createGraph(map1,1);
        createAnalysis(map1,1);
        return false;
      }
      var subject2 = document.getElementById("subject-3");
      subject2.onclick = function() {
        createTable(map1,2);
        createGraph(map1,2);
        createAnalysis(map1,2);
        return false;
      }
      var subject3 = document.getElementById("subject-4");
      subject3.onclick = function() {
        createTable(map1,3);
        createGraph(map1,3);
        createAnalysis(map1,3);
        return false;
      }
      var subject4 = document.getElementById("subject-5");
      subject4.onclick = function() {
        createTable(map1,4);
        createGraph(map1,4);
        createAnalysis(map1,4);
        return false;
      }
      var subject5 = document.getElementById("subject-6");
      subject5.onclick = function() {
        createTable(map1,5);
        createGraph(map1,5);
        createAnalysis(map1,5);
        return false;
      }
      var subject6 = document.getElementById("subject-7");
      subject6.onclick = function() {
        createTable(map1,6);
        createGraph(map1,6);
        createAnalysis(map1,6);
        return false;
      }
      var subject7 = document.getElementById("subject-8");
      subject7.onclick = function() {
        createTable(map1,7);
        createGraph(map1,7);
        createAnalysis(map1,7);
        return false;
      }
      var subject8 = document.getElementById("subject-9");
      subject8.onclick = function() {
        createTable(map1,8);
        createGraph(map1,8);
        createAnalysis(map1,8);
        return false;
      }
      var subject9 = document.getElementById("subject-10");
      subject9.onclick = function() {
        createTable(map1,9);
        createGraph(map1,9);
        createAnalysis(map1,9);
        return false;
      }
      var subject10 = document.getElementById("subject-11");
      subject10.onclick = function() {
        createTable(map1,10);
        createGraph(map1,10);
        createAnalysis(map1,10);
        return false;
      }
      var subject11 = document.getElementById("subject-12");
      subject11.onclick = function() {
        createTable(map1,11);
        createGraph(map1,11);
        createAnalysis(map1,11);
        return false;
      }
      var subject12 = document.getElementById("subject-13");
      subject12.onclick = function() {
        createTable(map1,12);
        createGraph(map1,12);
        createAnalysis(map1,12);
        return false;
      }
      var subject13 = document.getElementById("subject-14");
      subject13.onclick = function() {
        createTable(map1,13);
        createGraph(map1,13);
        createAnalysis(map1,13);
        return false;
      }
      var subject14 = document.getElementById("subject-15");
      subject14.onclick = function() {
        createTable(map1,14);
        createGraph(map1,14);
        createAnalysis(map1,14);
        return false;
      }
      var subject15 = document.getElementById("subject-16");
      subject15.onclick = function() {
        createTable(map1,15);
        createGraph(map1,15);
        createAnalysis(map1,15);
        return false;
      }
      var subject16 = document.getElementById("subject-17");
      subject16.onclick = function() {
        createTable(map1,16);
        createGraph(map1,16);
        createAnalysis(map1,16);
        return false;
      }
      var subject17 = document.getElementById("subject-18");
      subject17.onclick = function() {
        createTable(map1,17);
        createGraph(map1,17);
        createAnalysis(map1,17);
        return false;
      }
      var subject18 = document.getElementById("subject-19");
      subject18.onclick = function() {
        createTable(map1,18);
        createGraph(map1,18);
        createAnalysis(map1,18);
        return false;
      }
      var subject19 = document.getElementById("subject-20");
      subject19.onclick = function() {
        createTable(map1,19);
        createGraph(map1,19);
        createAnalysis(map1,19);
        return false;
      }
      var subject20 = document.getElementById("subject-21");
      subject20.onclick = function() {
        createTable(map1,20);
        createGraph(map1,20);
        createAnalysis(map1,20);
        return false;
      }
      var subject21 = document.getElementById("subject-22");
      subject21.onclick = function() {
        createTable(map1,21);
        createGraph(map1,21);
        createAnalysis(map1,21);
        return false;
      }

      createTable(map1,22);
      createGraph(map1,22);
      createAnalysis(map1,22);

    </script>

  </body>
</html>
